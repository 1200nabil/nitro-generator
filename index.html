<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>nabil's nitro generator</title>
  <link id="favicon" rel="icon" href="https://raw.githubusercontent.com/1200nabil/nitro-generator/refs/heads/main/nitro.png" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root {
      /* Dark Theme Colors */
      --bg-dark: #0d0d0d;
      --bg-card-dark: #1a1a1a;
      --text-dark: #ffffff;
      --accent-dark: #5865f2;
      --accent-hover-dark: #4752c4;
      --status-running-dark: #4caf50;
      --status-stopped-dark: #f44336;
      --textarea-bg-dark: #000000;
      --textarea-text-dark: #ffffff;

      /* Light Theme Colors */
      --bg-light: #f0f0f0;
      --bg-card-light: #ffffff;
      --text-light: #111111;
      --accent-light: #5865f2;
      --accent-hover-light: #4752c4;
      --status-running-light: #4caf50;
      --status-stopped-light: #f44336;
      --textarea-bg-light: #e0e0e0;
      --textarea-text-light: #111111;

      --font-main: 'Segoe UI', Arial, sans-serif;
    }

    body[data-theme="dark"] {
      background: var(--bg-dark);
      color: var(--text-dark);
    }

    body[data-theme="dark"] main {
      background: var(--bg-card-dark);
    }

    body[data-theme="dark"] button {
      background: var(--accent-dark);
      color: var(--text-dark);
    }

    body[data-theme="dark"] button:hover {
      background: var(--accent-hover-dark);
    }

    body[data-theme="dark"] .running {
      color: var(--status-running-dark);
    }

    body[data-theme="dark"] .stopped {
      color: var(--status-stopped-dark);
    }

    body[data-theme="dark"] textarea {
      background: var(--textarea-bg-dark);
      color: var(--textarea-text-dark);
    }

    body[data-theme="light"] {
      background: var(--bg-light);
      color: var(--text-light);
    }

    body[data-theme="light"] main {
      background: var(--bg-card-light);
    }

    body[data-theme="light"] button {
      background: var(--accent-light);
      color: var(--text-light);
    }

    body[data-theme="light"] button:hover {
      background: var(--accent-hover-light);
    }

    body[data-theme="light"] .running {
      color: var(--status-running-light);
    }

    body[data-theme="light"] .stopped {
      color: var(--status-stopped-light);
    }

    body[data-theme="light"] textarea {
      background: var(--textarea-bg-light);
      color: var(--textarea-text-light);
    }

    body {
      margin: 0;
      font-family: var(--font-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      transition: background 0.3s, color 0.3s;
    }

    header {
      text-align: center;
      margin-bottom: 20px;
    }

    header h1 {
      font-size: 2rem;
      font-weight: bold;
      letter-spacing: 1px;
      color: var(--accent-dark);
      margin: 0;
    }

    main {
      width: 100%;
      max-width: 800px;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      transition: background 0.3s;
    }

    textarea {
      width: 100%;
      border: none;
      border-radius: 8px;
      padding: 12px;
      font-family: monospace;
      font-size: 0.9rem;
      resize: none;
      margin-bottom: 20px;
      transition: background 0.3s, color 0.3s;
    }

    label {
      font-size: 1rem;
      margin-bottom: 6px;
      display: inline-block;
    }

    input {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
      margin-bottom: 20px;
    }

    .btn-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
      align-items: center;
    }

    button {
      flex: 1;
      padding: 12px;
      font-size: 1rem;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s, color 0.3s;
    }

    #themeToggle {
      cursor: pointer;
      font-size: 1.4rem;
      user-select: none;
      padding: 12px;
    }

    #counter {
      text-align: center;
      font-size: 1rem;
      margin: 10px 0 5px;
      color: #555;
    }

    #status {
      text-align: center;
      font-size: 0.95rem;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .running {
      color: #4caf50;
    }

    .stopped {
      color: #f44336;
    }

    footer {
      margin-top: 30px;
      font-size: 0.8rem;
      color: #aaa;
      text-align: center;
    }

    @media (max-width: 600px) {
      header h1 {
        font-size: 1.5rem;
      }
      button {
        flex: 100%;
      }
    }
  </style>
</head>
<body data-theme="dark">
  <header>
    <h1><em>üöÄ the endless nitro generator</em></h1>
  </header>

  <main>
    <textarea id="a" rows="10" readonly>click generate to start generating.

</textarea>

    <label for="speed">how many unchecked nitro codes per second:</label>
    <input type="number" id="speed" value="5" min="1" max="100">
    <div class="btn-group">
      <button id="generate">generate</button>
      <button id="stop">stop</button>
      <button id="clear">reset</button>
      <button id="save">save</button>
      <span id="themeToggle">üåô</span>
    </div>

    <p id="counter">codes generated: 0 (elapsed: 0s)</p>
    <p id="status" class="stopped">üî¥ status: stopped</p>

    <textarea id="b" style="display:none;" rows="10" readonly></textarea>
  </main>

  <footer>
    <p>made with ‚ù§Ô∏è by nabil</p>
  </footer>

  <script>
    let codeCount = 0;
    let startTime = null;
    let timeInterval = null;
    let gInterval = null;
    let scrollInterval = null;

    const counterEl = document.getElementById('counter');
    const statusEl = document.getElementById('status');
    const bodyEl = document.body;
    const themeToggle = document.getElementById('themeToggle');

    // Redirect console.log to textarea
    (function(){
      var oldLog = console.log;
      console.log = function (message) {
          document.getElementById('a').value += message;
          oldLog.apply(console, arguments);
      };
    })();

    function download(filename, text) {
      var element = document.createElement('a');
      element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
      element.setAttribute('download', filename);
      element.style.display = 'none';
      document.body.appendChild(element);
      element.click();
      document.body.removeChild(element);
    }

    if (navigator.userAgent.indexOf('Mobile') !== -1) { 
      document.getElementById('save').style.display = "none"; 
      document.getElementById('a').style.height = "100px";
    }

    function updateCounter() {
      let elapsed = startTime ? Math.floor((Date.now() - startTime) / 1000) : 0;
      counterEl.innerText = "Codes generated: " + codeCount + " (Elapsed: " + elapsed + "s)";
    }

    function setStatus(running) {
      if (running) {
        statusEl.innerText = "üü¢ current status: generating";
        statusEl.className = "running";
      } else {
        statusEl.innerText = "üî¥ current status: stopped";
        statusEl.className = "stopped";
      }
    }

    function startGenerating() {
      let triesPerSecond = document.getElementById('speed').value;

      stopGenerating();

      startTime = Date.now();
      timeInterval = setInterval(updateCounter, 1000);
      setStatus(true);

      function getGiftCode() {
          let code = '';
          let dict = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
          for (let i = 0; i < 24; i++) {
              code += dict.charAt(Math.floor(Math.random() * dict.length));
          }
          console.log('https://discord.gift/' + code + "\n");
          document.getElementById('b').value += code + '\n';

          codeCount++;
          updateCounter();
      }

      getGiftCode();
      gInterval = setInterval(getGiftCode, (500/triesPerSecond));
      scrollInterval = setInterval(() => {
        document.getElementById("a").scrollTop = document.getElementById("a").scrollHeight;
      }, 100);
    }

    function stopGenerating() {
      clearInterval(gInterval);
      clearInterval(scrollInterval);
      clearInterval(timeInterval);
      gInterval = null;
      scrollInterval = null;
      timeInterval = null;
      setStatus(false);
    }

    function resetAll() {
      stopGenerating();
      codeCount = 0;
      startTime = null;
      updateCounter();
      document.getElementById('a').value = '\nsuccessfully reset the codes!\n\n\n';
      document.getElementById('b').value = '';
    }

    function toggleTheme() {
      if (bodyEl.dataset.theme === 'dark') {
        bodyEl.dataset.theme = 'light';
        themeToggle.innerText = 'üåô';
      } else {
        bodyEl.dataset.theme = 'dark';
        themeToggle.innerText = 'üåû';
      }
    }

    // Button events
    document.getElementById('generate').addEventListener("click", startGenerating);
    document.getElementById('stop').addEventListener("click", stopGenerating);
    document.getElementById('clear').addEventListener("click", resetAll);
    document.getElementById('save').addEventListener("click", () => {
      download("nitrocodes.txt", document.getElementById('b').value);
    });
    themeToggle.addEventListener("click", toggleTheme);

    updateCounter();
    setStatus(false);
  </script>
</body>
</html>
